typealias IntOrBool = u32 | bool;

proc lookup(idx: i32) -> IntOrBool
{
	if idx == 0 {
		return 3;
	} else {
		return false;
	}
}


struct ArithError
{
	case DivisionByZero{},
}

proc safe_divide(a: i32, b: i32) -> i32|ArithError
{
	if b == 0 {
		return ArithError.DivisionByZero();
	}

	return a / b;
}


proc main() -> i32
{
	let x = lookup(99);
	let y: IntOrBool = false;

	match safe_divide(23, 4)
	{
		case i32 -> v {
			return v;
		}
		case ArithError {
			return -1;
		}
	}
}
